{% extends 'app_general/components/base.html' %}
{% load i18n %}
{% load account socialaccount %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'app_general/login.css' %}">

<div class="header">
    <img src="{% static 'app_general/demon-slayer.jpg' %}" alt="Anime Banner">
    <div class="header-sing">
        <h1>Login</h1>
        <a>Welcome to the official Animediary.</a>
    </div>
</div>



<div class="container-flex">



    {% if form.errors %}
        <div style="color: red; margin-bottom: 10px;">กรุณาตรวจสอบข้อมูลอีกครั้ง</div>
    {% endif %}
    <div class="Login-container hidden-frame">
            <h1 class="divider"><span>Login</span></h1>
            <form method="post" action="{% url 'login' %}">
                {% if request.GET.next %}
                    <input type="hidden" name="next" value="{{request.GET.next}}">
                {% endif %}
                {% csrf_token %}
                <div class="field-col">
                    <div class="form-group">
                        {{ form.login }}
                    </div>

                    <div class="form-group">
                        {{ form.password }}
                    </div>
                </div>


                <button class="btn-primary" type="submit">Login</button>
                <a href="{% url 'account_reset_password' %}" class="forget">Forgot Your Password?</a>
            </form>
    </div>
    <div class="center-line"></div>

    <div class="blocklang hidden-frame">
        {% get_providers as socialaccount_providers %}
        {% if socialaccount_providers %}
            <h1 class="divider"><span>Login With</span></h1>
            {% for provider in socialaccount_providers %}
                {% if provider.id == 'google' %}
                    <a class="btn-google" href="{% provider_login_url provider.id %}">
                        <img src="{% static 'app_general/google.png' %}" alt="">
                        <span>Sign in with Google</span>
                        <!--sing in whit {{ provider.name }}*/-->
                    </a>
                {% elif provider.id == 'github' %}
                    <a class="btn-github" href="{% provider_login_url provider.id %}">
                        <img src="{% static 'app_general/github.png' %}" alt="">
                        <span>Sign in with GitHub</span>
                    </a>

                {% else %}
                    <a class="btn-default" href="{% provider_login_url provider.id %}">
                        เข้าสู่ระบบด้วย {{ provider.name }}
                    </a>
                {% endif %}
            {% endfor %}
        {% endif %}
        
    </div>
    
    
    </html>
</div>
<div class="links">
    <h1>Dont't Have An Account?</h1>
    <a href="{% url 'account_signup' %}" class="btn">SignUP!</a>
</div>
<div class="box"></div>
{% endblock %}